{"version":3,"sources":["pages/base/listItems.js","pages/base/Title.js","socket.js","pages/global.js","pages/sensors/sensorCreate.js","pages/sensors/sensorMaps.js","pages/sensors/sensors.js","pages/reports/graphics.js","pages/base/Dashboard.js","keycloak.js","App.js","reportWebVitals.js","index.js"],"names":["SecondaryListItems","useKeycloak","keycloak","initialized","ListSubheader","component","inset","ListItemButton","ListItemIcon","ListItemText","primary","onClick","logout","Title","socket","init","so","io","on","st","console","log","sc","globalTitles","globalPages","newSensor","_id","name","id","meta","topic","latitud_value","longitud_value","category","PageSensorsCreate","props","Dialog","open","this","onClose","handleClose","DialogTitle","title","DialogContent","TextField","autoFocus","margin","label","fullWidth","required","variant","onChange","handleChange","value","sensor","multiline","rows","DialogActions","Button","handleSubmit","React","Component","DefaultIcon","L","icon","iconUrl","shadowUrl","iconShadow","Marker","prototype","options","position","PageSensorsMap","MapContainer","style","height","width","center","zoom","scrollWheelZoom","TileLayer","attribution","url","list","map","sn","Popup","classes","MuiVirtualizedTable","getRowClassName","index","onRowClick","clsx","cellRenderer","cellData","columnIndex","columns","rowHeight","TableCell","className","align","numeric","headerRenderer","headerHeight","tableProps","stickyHeader","gridStyle","direction","rowClassName","dataKey","other","headerProps","defaultProps","VirtualizedTable","styled","theme","paddingLeft","paddingRight","undefined","display","alignItems","boxSizing","cursor","backgroundColor","palette","grey","flex","action","IconButton","e","handleEdit","push","actions","PageSensors","resizeWindow","tablavirtual","current","state","mapopen","setState","columna","offsetWidth","dialogOpen","listSensor","listSensors","bind","handleDialogClose","handleDialogOpen","getAllSensor","handleMapOpen","handleMapClose","window","removeEventListener","handleSensorPage","fetch","method","credentials","headers","then","response","json","data","auxsensor","docs","JSON","stringify","catch","err","aux","auxlist","forEach","ele","handlePageSensors","copy","parse","target","preventDefault","auxid","bod","model","body","addEventListener","Tooltip","Fab","sx","boxShadow","mr","Paper","ref","rowCount","length","rowGetter","inputProps","getDescendantProp","obj","desc","arr","split","shift","Graphics","getData","metricas","booleans","booleanos","time1","Date","getTime","time2","realtime","handleTime1","handleTime2","handleCheck","getDataSensor","getDataSocket","msg","dt","field_id","host","location","protocol","URL","searchParams","set","toString","mt","count","au","time","toLocaleString","at","parseFloat","bl","setTitle","auxmetrics","auxbooleans","auxbools","counter","element","key","id_field","Fragment","Box","padding","LocalizationProvider","dateAdapter","AdapterDateFns","DateTimePicker","renderInput","marginRight","Typography","fontSize","justifyContent","flexDirection","alignContent","color","gutterBottom","Switch","checked","marginLeft","Object","keys","maxWidth","disabled","dta","i","Card","heigth","paddingTop","marginTop","ResponsiveContainer","LineChart","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","YAxis","Legend","Line","type","stroke","AppBar","MuiAppBar","shouldForwardProp","prop","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","enteringScreen","Drawer","MuiDrawer","whiteSpace","overflowX","spacing","breakpoints","up","mdTheme","createTheme","DashboardContent","mixins","toolbar","page","pageSensors","toggleDrawer","setPage","setSensors","ThemeProvider","CssBaseline","Toolbar","pr","edge","noWrap","flexGrow","px","Divider","List","my","mode","overflow","renderPage","Keycloak","App","ready","event","error","hasRealmRole","authClient","onEvent","handleEvent","onTokens","token","initOptions","onLoad","path","Dashboard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.783f96e7.chunk.js","sourcesContent":["import * as React from 'react';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport ListSubheader from '@mui/material/ListSubheader';\nimport DashboardIcon from '@mui/icons-material/Dashboard';\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\nimport PeopleIcon from '@mui/icons-material/People';\nimport BarChartIcon from '@mui/icons-material/BarChart';\nimport LayersIcon from '@mui/icons-material/Layers';\nimport AssignmentIcon from '@mui/icons-material/Assignment';\nimport { useKeycloak } from '@react-keycloak/web';\n\n\n\nexport function SecondaryListItems() {\n  const { keycloak, initialized } = useKeycloak();\n  return (\n  <React.Fragment>\n    <ListSubheader component=\"div\" inset>\n      Usuario\n    </ListSubheader>\n    <ListItemButton>\n      <ListItemIcon>\n        <AssignmentIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Cerrar Sesión\" onClick={()=> {\n        keycloak.logout();\n      }} />\n    </ListItemButton>\n    \n  </React.Fragment>\n  )\n}\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@mui/material/Typography';\n\nfunction Title(props) {\n  return (\n    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n      {props.children}\n    </Typography>\n  );\n}\n\nTitle.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Title;\n","import io from 'socket.io-client';\r\n\r\nconst socket = {};\r\nsocket.sc = null;\r\nlet init = () => {\r\n    let so = io();\r\n    so.on(\"connect\", function (st) {\r\n        console.log(\"connected\");\r\n\r\n\r\n    });\r\n    socket.sc = so;\r\n}\r\n\r\nsocket.init = init;\r\n\r\n\r\nexport default socket;","export const globalTitles = {\r\n    sensor: \"Sensores\",\r\n    reports: \"Reportes\"\r\n}\r\nexport const globalPages = {\r\n    sensors: 1,\r\n    reportSensor: 2\r\n    \r\n}\r\n\r\nexport const newSensor = {\r\n    _id: null,\r\n    name: \"\",\r\n    id: \"\",\r\n    meta: \"\",\r\n    topic: \"\",\r\n    latitud_value: \"\",\r\n    longitud_value: \"\",\r\n    category: \"\"\r\n}\r\n\r\nexport const urls = {\r\n    backend: \"http://127.0.0.1:3003/\"\r\n}\r\n\r\n","import React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nclass PageSensorsCreate extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Dialog open={this.props.open} onClose={this.props.handleClose}>\r\n                <DialogTitle>{this.props.title}</DialogTitle>\r\n                <DialogContent>\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"name\"\r\n                        label=\"Nombre Sensor\"\r\n                        fullWidth\r\n                        required\r\n                        variant=\"standard\"\r\n                        onChange={this.props.handleChange}\r\n                        value={this.props.sensor.name}\r\n                    />\r\n                    <TextField \r\n                        margin=\"dense\"\r\n                        id=\"id\"\r\n                        label=\"Id del Sensor\"\r\n                        fullWidth\r\n                        required\r\n                        variant=\"standard\"\r\n                        onChange={this.props.handleChange}\r\n                        value={this.props.sensor.id}\r\n                    />\r\n\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        fullWidth\r\n                        variant=\"standard\"\r\n                        id=\"meta\"\r\n                        label=\"Meta Data\"\r\n                        multiline\r\n                        rows={8}\r\n                        onChange={this.props.handleChange}\r\n                        value={this.props.sensor.meta}\r\n                    />\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"topic\"\r\n                        label=\"Tópico\"\r\n                        fullWidth\r\n                        required\r\n                        variant=\"standard\"\r\n                        onChange={this.props.handleChange}\r\n                        value={this.props.sensor.topic}\r\n                    />\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"category\"\r\n                        label=\"Categoría\"\r\n                        fullWidth\r\n                        required\r\n                        variant=\"standard\"\r\n                        value={this.props.sensor.category}\r\n                        onChange={this.props.handleChange}\r\n                    />\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"latitud_value\"\r\n                        label=\"Latitud\"\r\n                        \r\n                        fullWidth\r\n                        variant=\"standard\"\r\n                        value={this.props.sensor.latitud_value}\r\n                        onChange={this.props.handleChange}\r\n                    />\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"longitud_value\"\r\n                        label=\"Longitud\"\r\n                        \r\n                        fullWidth\r\n                        variant=\"standard\"\r\n                        value={this.props.sensor.longitud_value}\r\n                        onChange={this.props.handleChange}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={this.props.handleClose}>Cancelar</Button>\r\n                    <Button onClick={this.props.handleSubmit}>Subscribirse</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default PageSensorsCreate;","import React from 'react';\r\nimport { MapContainer, TileLayer, useMap, Marker,Popup } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport L from 'leaflet';\r\nimport icon from 'leaflet/dist/images/marker-icon.png';\r\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\r\n\r\nlet DefaultIcon = L.icon({\r\n    iconUrl: icon,\r\n    shadowUrl: iconShadow\r\n});\r\n\r\nL.Marker.prototype.options.icon = DefaultIcon;\r\nconst position = [13.680218380437124, -89.23616217214374];\r\n\r\n\r\nclass PageSensorsMap extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <MapContainer style={{ height: 'calc(100% - 78px)', width: '100%' }}\r\n             center={position} zoom={25} scrollWheelZoom={false}>\r\n            <TileLayer\r\n              attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            />\r\n            {this.props.list.map(sn => (\r\n                 <Marker key={sn.id} position={[sn.latitud_value,sn.longitud_value]}>\r\n                 <Popup>\r\n                   {sn.name}<br />\r\n                 </Popup>\r\n               </Marker>\r\n            ))}\r\n           \r\n          </MapContainer>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default PageSensorsMap;","\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { styled } from '@mui/material/styles';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport Paper from '@mui/material/Paper';\r\nimport { AutoSizer, Column, Table } from 'react-virtualized';\r\nimport { Container } from '@mui/material';\r\nimport MapIcon from '@mui/icons-material/Map';\r\nimport Fab from '@mui/material/Fab';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport PageSensorsCreate from './sensorCreate';\r\nimport { newSensor, urls } from '../global';\r\nimport PageSensorsMap from './sensorMaps';\r\nimport TableChartIcon from '@mui/icons-material/TableChart';\r\nimport { ConnectingAirportsOutlined } from '@mui/icons-material';\r\nconst classes = {\r\n    flexContainer: 'ReactVirtualizedDemo-flexContainer',\r\n    tableRow: 'ReactVirtualizedDemo-tableRow',\r\n    tableRowHover: 'ReactVirtualizedDemo-tableRowHover',\r\n    tableCell: 'ReactVirtualizedDemo-tableCell',\r\n    noClick: 'ReactVirtualizedDemo-noClick',\r\n};\r\n\r\nconst styles = ({ theme }) => ({\r\n    // temporary right-to-left patch, waiting for\r\n    // https://github.com/bvaughn/react-virtualized/issues/454\r\n    '& .ReactVirtualized__Table__headerRow': {\r\n        ...(theme.direction === 'rtl' && {\r\n            paddingLeft: '0 !important',\r\n        }),\r\n        ...(theme.direction !== 'rtl' && {\r\n            paddingRight: undefined,\r\n        }),\r\n    },\r\n    [`& .${classes.flexContainer}`]: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        boxSizing: 'border-box',\r\n    },\r\n    [`& .${classes.tableRow}`]: {\r\n        cursor: 'pointer',\r\n    },\r\n    [`& .${classes.tableRowHover}`]: {\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.grey[200],\r\n        },\r\n    },\r\n    [`& .${classes.tableCell}`]: {\r\n        flex: 1,\r\n    },\r\n    [`& .${classes.noClick}`]: {\r\n        cursor: 'initial',\r\n    },\r\n});\r\n\r\nclass MuiVirtualizedTable extends React.PureComponent {\r\n    static defaultProps = {\r\n        headerHeight: 48,\r\n        rowHeight: 48,\r\n    };\r\n\r\n    getRowClassName = ({ index }) => {\r\n        const { onRowClick } = this.props;\r\n\r\n        return clsx(classes.tableRow, classes.flexContainer, {\r\n            [classes.tableRowHover]: index !== -1 && onRowClick != null,\r\n        });\r\n    };\r\n\r\n    cellRenderer = ({ cellData, columnIndex }) => {\r\n        const { columns, rowHeight, onRowClick } = this.props;\r\n        return (\r\n            <TableCell\r\n                component=\"div\"\r\n                className={clsx(classes.tableCell, classes.flexContainer, {\r\n                    [classes.noClick]: onRowClick == null,\r\n                })}\r\n                variant=\"body\"\r\n                style={{ height: rowHeight }}\r\n                align={\r\n                    (columnIndex != null && columns[columnIndex].numeric) || false\r\n                        ? 'right'\r\n                        : 'left'\r\n                }\r\n            >\r\n                {cellData}\r\n            </TableCell>\r\n        );\r\n    };\r\n\r\n    headerRenderer = ({ label, columnIndex }) => {\r\n        const { headerHeight, columns } = this.props;\r\n\r\n        return (\r\n            <TableCell\r\n                component=\"div\"\r\n                className={clsx(classes.tableCell, classes.flexContainer, classes.noClick)}\r\n                variant=\"head\"\r\n                style={{ height: headerHeight }}\r\n                align={columns[columnIndex].numeric || false ? 'right' : 'left'}\r\n            >\r\n                <span>{label}</span>\r\n            </TableCell>\r\n        );\r\n    };\r\n\r\n    render() {\r\n        const { columns, rowHeight, headerHeight, ...tableProps } = this.props;\r\n        return (\r\n            <AutoSizer>\r\n                {({ height, width }) => (\r\n                    <Table stickyHeader\r\n                        height={height}\r\n                        width={width}\r\n                        rowHeight={rowHeight}\r\n                        gridStyle={{\r\n                            direction: 'inherit',\r\n                        }}\r\n                        headerHeight={headerHeight}\r\n                        {...tableProps}\r\n                        rowClassName={this.getRowClassName}\r\n                    >\r\n                        {columns.map(({ dataKey, ...other }, index) => {\r\n                            return (\r\n                                <Column\r\n                                    key={dataKey}\r\n                                    headerRenderer={(headerProps) =>\r\n                                        this.headerRenderer({\r\n                                            ...headerProps,\r\n                                            columnIndex: index,\r\n                                        })\r\n                                    }\r\n                                    className={classes.flexContainer}\r\n                                    cellRenderer={this.cellRenderer}\r\n                                    dataKey={dataKey}\r\n                                    {...other}\r\n                                />\r\n                            );\r\n                        })}\r\n                    </Table>\r\n                )}\r\n            </AutoSizer>\r\n        );\r\n    }\r\n}\r\n\r\nMuiVirtualizedTable.propTypes = {\r\n    columns: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            dataKey: PropTypes.string.isRequired,\r\n            label: PropTypes.string.isRequired,\r\n            numeric: PropTypes.bool,\r\n            width: PropTypes.number.isRequired,\r\n        }),\r\n    ).isRequired,\r\n    headerHeight: PropTypes.number,\r\n    onRowClick: PropTypes.func,\r\n    rowHeight: PropTypes.number,\r\n};\r\n\r\nconst VirtualizedTable = styled(MuiVirtualizedTable)(styles);\r\n\r\n// ---\r\n\r\nconst action =\r\n    <React.Fragment>\r\n        <IconButton onClick={(e) => this.handleEdit()} aria-label=\"editar\">\r\n            <EditIcon />\r\n        </IconButton>\r\n        <IconButton aria-label=\"eliminar\">\r\n            <DeleteIcon />\r\n        </IconButton>\r\n    </React.Fragment>;\r\n\r\nconst rows = [];\r\nrows.push({ id: 1, name: \"sensor1\", topic: \"Solar Panel\", actions: action });\r\n\r\n\r\nclass PageSensors extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.tablavirtual = React.createRef();\r\n        this.state = {};\r\n        this.state.sensor = newSensor;\r\n        this.state.columna = 200;\r\n        this.state.dialogOpen = false;\r\n        this.state.listSensor = [];\r\n        this.state.listSensors= [];\r\n        this.state.mapopen = false;\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleDialogClose = this.handleDialogClose.bind(this);\r\n        this.handleDialogOpen = this.handleDialogOpen.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.getAllSensor = this.getAllSensor.bind(this);\r\n        this.handleMapOpen = this.handleMapOpen.bind(this);\r\n        this.handleMapClose = this.handleMapClose.bind(this);\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        window.removeEventListener('resize',this.resizeWindow);\r\n        console.log(\"unmount\");\r\n    }\r\n\r\n    handlePageSensors(id){\r\n        this.props.handleSensorPage(id);\r\n    }\r\n\r\n    handleEdit(id) {\r\n        console.log(id);\r\n        fetch(\"/sensors/id?id=\" + id, {\r\n            method: 'GET',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                let auxsensor = data.docs;\r\n                auxsensor.meta = JSON.stringify(auxsensor.meta);\r\n\r\n                this.setState({ dialogOpen: true, sensor: auxsensor });\r\n                console.log(data);\r\n            }).catch((err) => {\r\n                this.setState({ sensor: newSensor });\r\n                console.log(err);\r\n\r\n            });\r\n    }\r\n\r\n    getAllSensor() {\r\n        fetch(\"/sensors\", {\r\n            method: 'GET',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                let aux = [];\r\n                let auxlist = [];\r\n                data.docs.forEach(ele => {\r\n                    aux.push({\r\n                        id: ele.id, name: ele.name, topic: ele.topic, actions: <React.Fragment>\r\n                            <IconButton onClick={(e) => this.handleEdit(ele._id)} aria-label=\"editar\">\r\n                                <EditIcon />\r\n                            </IconButton>\r\n                            <IconButton onClick={(e)=> this.handlePageSensors(ele._id)} aria-label=\"Data\">\r\n                                <TableChartIcon />\r\n                            </IconButton>\r\n                            <IconButton aria-label=\"eliminar\">\r\n                                <DeleteIcon />\r\n                            </IconButton>\r\n                        </React.Fragment>\r\n                    });\r\n                    if(ele.latitud_value != null && ele.latitud_value != null ){\r\n                        auxlist.push(ele);\r\n                    }\r\n\r\n                });\r\n                this.setState({ listSensor: aux,listSensors: auxlist });\r\n            }).catch((err) => {\r\n                this.setState({ listSensor: [] });\r\n                console.log(err);\r\n\r\n            });\r\n    }\r\n\r\n\r\n    handleChange(e) {\r\n        let copy = JSON.parse(JSON.stringify(this.state.sensor));\r\n        copy[e.target.id] = e.target.value;\r\n        this.setState({ sensor: copy });\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        let copy = JSON.parse(JSON.stringify(this.state.sensor));\r\n        if (this.state.sensor._id != null) {\r\n            let auxid = copy._id;\r\n            delete copy._id;\r\n            copy.meta = JSON.parse(copy.meta);\r\n            let bod = { model: copy, id: auxid };\r\n            fetch(\"/sensors\", {\r\n                method: 'PUT',\r\n                credentials: 'same-origin',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(bod)\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    this.setState({ dialogOpen: false, sensor: newSensor });\r\n                    console.log(data);\r\n                }).catch((err) => {\r\n                    this.setState({ sensor: newSensor });\r\n                    console.log(err);\r\n\r\n                });\r\n        } else {\r\n            delete copy._id;\r\n            copy.meta = JSON.parse(copy.meta);\r\n            let bod = { model: copy };\r\n            fetch(\"/sensors\", {\r\n                method: 'POST',\r\n                credentials: 'same-origin',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(bod)\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    this.setState({ dialogOpen: false, sensor: newSensor });\r\n                    console.log(data);\r\n                }).catch((err) => {\r\n                    this.setState({ sensor: newSensor });\r\n                    console.log(err);\r\n\r\n                });\r\n        }\r\n    }\r\n\r\n    handleDialogOpen() {\r\n        this.setState({ dialogOpen: true });\r\n    }\r\n    handleDialogClose() {\r\n        this.setState({ dialogOpen: false, sensor: newSensor });\r\n    }\r\n\r\n    handleMapOpen() {\r\n        this.setState({ mapopen: !this.state.mapopen });\r\n    }\r\n    handleMapClose() {\r\n        this.setState({ mapopen: false });\r\n        this.setState({ columna: this.tablavirtual.current.offsetWidth / 4 });\r\n\r\n    }\r\n\r\n\r\n    resizeWindow = () => {\r\n        console.log('Resize me');\r\n        console.log(this.tablavirtual.current);\r\n        if (!this.state.mapopen) {\r\n            this.setState({ columna: this.tablavirtual.current.offsetWidth / 4 });\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', this.resizeWindow);\r\n        console.log(this.tablavirtual.current.offsetWidth);\r\n        this.setState({ columna: this.tablavirtual.current.offsetWidth / 4 });\r\n        this.getAllSensor();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div style={{ width: '100%', height: 'calc(100% - 64px)' }}>\r\n                <Tooltip title=\"Añadir Sensor\">\r\n                    <Fab onClick={this.handleDialogOpen} variant=\"extended\" style={{ margin: '15px', backgroundColor: 'white' }} sx={{ boxShadow: 2 }}>\r\n                        <AddIcon sx={{ mr: 1 }} />\r\n                        Añadir\r\n                    </Fab>\r\n                </Tooltip>\r\n                <Tooltip title=\"Mapa\">\r\n                    <Fab onClick={this.handleMapOpen} variant=\"extended\" style={{ margin: '15px', backgroundColor: 'white' }} sx={{ boxShadow: 2 }}>\r\n                        <MapIcon sx={{ mr: 1 }} />\r\n                        Mapa\r\n                    </Fab>\r\n                </Tooltip>\r\n\r\n                {this.state.mapopen ? <PageSensorsMap list={this.state.listSensors}/> :\r\n                    <Paper style={{ height: 'calc(100% - 78px)', width: '100%' }} ref={this.tablavirtual}>\r\n                        <VirtualizedTable\r\n\r\n                            rowCount={this.state.listSensor.length}\r\n                            rowGetter={({ index }) => this.state.listSensor[index]}\r\n                            columns={[\r\n                                {\r\n                                    width: this.state.columna,\r\n                                    label: 'id',\r\n                                    dataKey: 'id',\r\n\r\n                                    numeric: false,\r\n                                },\r\n                                {\r\n                                    width: this.state.columna,\r\n                                    label: 'Nombre',\r\n                                    dataKey: 'name',\r\n                                    numeric: false,\r\n                                },\r\n                                {\r\n                                    width: this.state.columna,\r\n                                    label: 'Tópico',\r\n                                    dataKey: 'topic',\r\n                                    numeric: false,\r\n                                },\r\n                                {\r\n                                    width: this.state.columna,\r\n                                    label: 'Acciones',\r\n                                    dataKey: 'actions',\r\n                                    numeric: false,\r\n                                }\r\n                            ]}\r\n                        />\r\n                    </Paper>}\r\n                <PageSensorsCreate\r\n                    sensor={this.state.sensor}\r\n                    handleChange={this.handleChange}\r\n                    open={this.state.dialogOpen}\r\n                    handleClose={this.handleDialogClose}\r\n                    handleSubmit={this.handleSubmit}\r\n                />\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default PageSensors;","import React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Card from '@mui/material/Card';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport Switch from '@mui/material/Switch';\r\nimport TextField from '@mui/material/TextField';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { DateTimePicker } from '@mui/x-date-pickers/DateTimePicker';\r\nimport { display } from '@mui/system';\r\nimport socket from '../../socket';\r\nconst label = { inputProps: { 'aria-label': 'Switch demo' } };\r\n\r\nfunction getDescendantProp(obj, desc) {\r\n    var arr = desc.split(\".\");\r\n    while (arr.length && (obj = obj[arr.shift()]));\r\n    return obj;\r\n}\r\n\r\n\r\nclass Graphics extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.getData(this.props.id);\r\n        this.state = {\r\n            metricas: [],\r\n            booleans: [],\r\n            booleanos: {},\r\n            data: [],\r\n            time1: new Date(new Date().getTime() - (3 * 60 * 60 * 1000)),\r\n            time2: new Date(),\r\n            realtime: true\r\n        }\r\n        this.handleTime1 = this.handleTime1.bind(this);\r\n        this.handleTime2 = this.handleTime2.bind(this);\r\n        this.handleCheck = this.handleCheck.bind(this);\r\n        this.getData = this.getData.bind(this);\r\n        this.getDataSensor = this.getDataSensor.bind(this);\r\n        this.getDataSocket = this.getDataSocket.bind(this);\r\n        socket.sc.on(\"message\",(msg) => {\r\n            this.getDataSocket(msg);\r\n        });\r\n    }\r\n\r\n\r\n    getDataSocket(dt){\r\n        if(this.state.realtime){\r\n            this.state.metricas.forEach(e => {\r\n\r\n            });\r\n            console.log(dt);\r\n        }\r\n    }\r\n\r\n    getDataSensor(id, field_id) {\r\n        console.log(field_id);\r\n        var host = window.location.protocol + \"//\" + window.location.host;\r\n        let url = new URL(\"data/bytime\", host);\r\n\r\n        console.log(\"field_id\");\r\n        url.searchParams.set('time1', this.state.time1);\r\n        url.searchParams.set('time2', this.state.time2);\r\n        url.searchParams.set(\"field_id\", field_id);\r\n        url.searchParams.set('id', id);\r\n        console.log(url.toString());\r\n        fetch(url.toString(), {\r\n            method: 'GET',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data);\r\n                let aux = [];\r\n                this.state.metricas.forEach(mt => {\r\n                    aux.push([]);\r\n                });\r\n\r\n                data.docs.forEach(ele => {\r\n                    let count = 0;\r\n                    this.state.metricas.forEach(mt => {\r\n                        let au = {};\r\n                        au.time = new Date(ele.time);\r\n                        au.time = au.time.toLocaleString();\r\n\r\n                        au[mt.split(\".\").at(-1)] = parseFloat(getDescendantProp(ele.data, mt));\r\n                        aux[count].push(au);\r\n\r\n                        count++;\r\n                    });\r\n                });\r\n                let copy = JSON.parse(JSON.stringify(this.state.booleanos));\r\n                this.state.booleans.forEach(bl =>{\r\n                    copy[bl.split(\".\").at(-1)] = getDescendantProp(data.docs[0].data,bl) == true;\r\n                    \r\n                });\r\n                console.log(copy);\r\n                this.setState({booleanos: copy});\r\n                this.setState({ data: aux });\r\n\r\n            }).catch((err) => {\r\n\r\n            });\r\n    }\r\n\r\n    getData(id) {\r\n        fetch(\"/sensors/id?id=\" + id, {\r\n            method: 'GET',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data);\r\n                this.props.setTitle(\"Sensors ➜ \" + data.docs.name);\r\n                let auxmetrics = [];\r\n                let auxbooleans = [];\r\n                let auxbools = {};\r\n                let counter = 0;\r\n                data.docs.meta.forEach(element => {\r\n\r\n                    if (element[1] == \"m\") {\r\n                        auxmetrics.push(element[0]);\r\n                    }\r\n                    if (element[1] == \"b\") {\r\n                        auxbools[element[0].split(\".\").at(-1)] = { value: false, key: counter };\r\n                        auxbooleans.push(element[0]);\r\n                    }\r\n                    counter++;\r\n                });\r\n                this.setState({\r\n                    metricas: auxmetrics,\r\n                    booleans: auxbooleans,\r\n                    booleanos: auxbools\r\n                });\r\n                console.log(this.state.booleanos);\r\n                this.getDataSensor(data.docs.id, data.docs.id_field);\r\n            }).catch((err) => {\r\n\r\n            });\r\n    }\r\n\r\n    handleCheck() {\r\n        this.setState({ realtime: !this.state.realtime })\r\n    }\r\n\r\n    handleTime1(e) {\r\n        this.setState({ time1: e })\r\n    }\r\n    handleTime2(e) {\r\n        this.setState({ time2: e })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Box sx={{\r\n                    padding: '15px',\r\n                    display: \"flex\"\r\n                }}>\r\n                    <LocalizationProvider dateAdapter={AdapterDateFns} >\r\n                        <DateTimePicker\r\n                            renderInput={(props) => <TextField sx={{ marginRight: '15px' }} {...props} />}\r\n                            label=\"Desde\"\r\n                            value={this.state.time1}\r\n                            onChange={this.handleTime1}\r\n                        />\r\n                    </LocalizationProvider>\r\n                    <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                        <DateTimePicker\r\n                            renderInput={(props) => <TextField sx={{ marginRight: '15px' }} {...props} />}\r\n                            label=\"Hasta\"\r\n                            value={this.state.time2}\r\n                            onChange={this.handleTime2}\r\n                        />\r\n                    </LocalizationProvider>\r\n                    <Typography sx={{ fontSize: 18 }} display=\"flex\" justifyContent=\"center\"\r\n                        flexDirection=\"column\" alignContent=\"center\" color=\"text.secondary\" gutterBottom>\r\n                        <span>    RealTime <Switch {...label} color='primary' inputProps={{ 'aria-label': 'controlled' }} checked={this.state.realtime} onChange={this.handleCheck} />\r\n                        </span>\r\n                    </Typography>\r\n\r\n\r\n\r\n                </Box>\r\n\r\n                <Box sx={{\r\n                    padding: '10px',\r\n                    marginLeft: '20px'\r\n                }}>\r\n                    {Object.keys(this.state.booleanos).map(ele =>\r\n                    (<div sx={{\r\n                        maxWidth: '125px', height: '75px', display: 'flex',\r\n                        justifyContent: 'center', flexDirection: 'column'\r\n                    }} key={this.state.booleanos[ele].key}>\r\n\r\n                        <Typography sx={{ fontSize: 22 }}\r\n                            flexDirection=\"column\" alignContent=\"center\" color=\"text.secondary\" gutterBottom>\r\n                            {ele}  <Switch {...label} disabled color='primary' checked={this.state.booleanos[ele].value} />\r\n                        </Typography>\r\n\r\n\r\n                    </div>\r\n                    )\r\n                    )\r\n\r\n                    }\r\n                </Box>\r\n                <Box sx={{\r\n                    padding: '10px'\r\n\r\n                }}>\r\n                    {this.state.data.map((dta, i) => (\r\n                        <Card key={i} sx={{ width: '100%', heigth: '550px', paddingTop: '40px', marginTop: \"10px\" }}>\r\n                            <ResponsiveContainer width=\"100%\" height={550}>\r\n\r\n                                <LineChart\r\n\r\n\r\n                                    data={dta}\r\n                                    margin={{\r\n                                        top: 5,\r\n                                        right: 30,\r\n                                        left: 20,\r\n                                        bottom: 5\r\n                                    }}\r\n                                >\r\n                                    <CartesianGrid strokeDasharray=\"3 3\" />\r\n                                    <XAxis dataKey=\"time\" />\r\n                                    <YAxis />\r\n                                    <Tooltip />\r\n                                    <Legend />\r\n\r\n                                    <Line type=\"monotone\" dataKey={this.state.metricas[i].split(\".\").at(-1)} stroke=\"#82ca9d\" />\r\n                                </LineChart>\r\n                            </ResponsiveContainer>\r\n                        </Card>\r\n                    ))\r\n\r\n                    }\r\n                </Box>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Graphics;","import * as React from 'react';\nimport { styled, createTheme, ThemeProvider } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport MuiDrawer from '@mui/material/Drawer';\nimport Box from '@mui/material/Box';\nimport MuiAppBar from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport List from '@mui/material/List';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport Badge from '@mui/material/Badge';\nimport Container from '@mui/material/Container';\nimport Grid from '@mui/material/Grid';\nimport Paper from '@mui/material/Paper';\nimport Link from '@mui/material/Link';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport NotificationsIcon from '@mui/icons-material/Notifications';\nimport { SecondaryListItems } from './listItems';\nimport Chart from './Chart';\nimport Deposits from './Deposits';\nimport Orders from './Orders';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport DashboardIcon from '@mui/icons-material/Dashboard';\nimport SensorsIcon from '@mui/icons-material/Sensors';\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\nimport PeopleIcon from '@mui/icons-material/People';\nimport BarChartIcon from '@mui/icons-material/BarChart';\nimport LayersIcon from '@mui/icons-material/Layers';\nimport { globalPages, globalTitles } from '../global';\nimport PageSensors from '../sensors/sensors';\nimport Graphics from '../reports/graphics'\nimport { height } from '@mui/system';\n\nfunction Copyright(props) {\n  return (\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://mui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst drawerWidth = 240;\n\nconst AppBar = styled(MuiAppBar, {\n  shouldForwardProp: (prop) => prop !== 'open',\n})(({ theme, open }) => ({\n  zIndex: theme.zIndex.drawer + 1,\n  transition: theme.transitions.create(['width', 'margin'], {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen,\n  }),\n  ...(open && {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  }),\n}));\n\nconst Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(\n  ({ theme, open }) => ({\n    '& .MuiDrawer-paper': {\n      position: 'relative',\n      whiteSpace: 'nowrap',\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n      boxSizing: 'border-box',\n      ...(!open && {\n        overflowX: 'hidden',\n        transition: theme.transitions.create('width', {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.leavingScreen,\n        }),\n        width: theme.spacing(7),\n        [theme.breakpoints.up('sm')]: {\n          width: theme.spacing(9),\n        },\n      }),\n    },\n  }),\n);\n\nconst mdTheme = createTheme();\nconst Offset = styled('div')(({ theme }) => theme.mixins.toolbar);\n\nclass DashboardContent extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: true,\n      title: globalTitles.sensor,\n      page: globalPages.sensors,\n      sensor: null\n    }\n    this.pageSensors = this.pageSensors.bind(this);\n    this.toggleDrawer = this.toggleDrawer.bind(this);\n    this.setPage = this.setPage.bind(this);\n    this.setTitle = this.setTitle.bind(this);\n    this.setSensors=this.setSensors.bind(this);\n  }\n\n  pageSensors(id){\n    this.setPage(globalPages.reportSensor);\n    this.setState({sensor: id});\n  }\n\n  toggleDrawer() {\n    this.setState({ open: !this.state.open });\n  }\n\n  setTitle(title){\n    this.setState({title: title});\n  }\n\n  setSensors(){\n    this.setTitle(globalTitles.sensor);\n    this.setPage(globalPages.sensors);\n  }\n\n  setPage(page) {\n    this.setState({ page: page });\n  }\n\n  renderPage(page) {\n    if (page == globalPages.sensors) {\n      return (<PageSensors\n        handleSensorPage={this.pageSensors} \n        open={this.state.open} />);\n    }\n    if(page == globalPages.reportSensor){\n      return (<Graphics setTitle={this.setTitle} id={this.state.sensor}/>);\n    }\n  }\n\n\n  render() {\n\n    return (\n      <ThemeProvider theme={mdTheme}>\n        <Box sx={{ display: 'flex' }}>\n          <CssBaseline />\n          <AppBar position=\"absolute\" open={this.state.open}>\n            <Toolbar\n              sx={{\n                pr: '24px', // keep right padding when drawer closed\n              }}\n            >\n              <IconButton\n                edge=\"start\"\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                onClick={this.toggleDrawer}\n                sx={{\n                  marginRight: '36px',\n                  ...(this.state.open && { display: 'none' }),\n                }}\n              >\n                <MenuIcon />\n              </IconButton>\n              <Typography\n                component=\"h1\"\n                variant=\"h6\"\n                color=\"inherit\"\n                noWrap\n                sx={{ flexGrow: 1 }}\n              >\n                {this.state.title}\n              </Typography>\n            </Toolbar>\n          </AppBar>\n          <Drawer variant=\"permanent\" open={this.state.open}>\n            <Toolbar\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'flex-end',\n                px: [1],\n              }}\n            >\n              <IconButton onClick={this.toggleDrawer}>\n                <ChevronLeftIcon />\n              </IconButton>\n            </Toolbar>\n            <Divider />\n            <List component=\"nav\">\n              <React.Fragment>\n                <ListItemButton onClick={this.setSensors}>\n                  <ListItemIcon>\n                    <SensorsIcon />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Sensores\" />\n                </ListItemButton>\n              </React.Fragment>\n              <Divider sx={{ my: 1 }} />\n              <SecondaryListItems />\n            </List>\n          </Drawer>\n          \n          <Box\n            component=\"main\"\n            sx={{\n              backgroundColor: (theme) =>\n                theme.palette.mode === 'light'\n                  ? theme.palette.primary[100]\n                  : theme.palette.grey[900],\n              flexGrow: 1,\n              height: '100vh',\n              width: '100vw',\n              overflow: 'auto',\n            }}\n          >\n           <div style={{height: '64px'}}></div>\n            \n\n\n            {this.renderPage(this.state.page)}\n\n          </Box>\n        </Box>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default DashboardContent;","import Keycloak from 'keycloak-js';\r\n\r\n// Setup Keycloak instance as needed\r\n// Pass initialization options as required or leave blank to load from 'keycloak.json'\r\nconst keycloak = new Keycloak();\r\n\r\nexport default keycloak;","import './App.css';\nimport Dashboard from './pages/base/Dashboard';\nimport React from 'react';\nimport { useKeycloak, ReactKeycloakProvider } from '@react-keycloak/web';\nimport keycloak from './keycloak';\nimport {\n  BrowserRouter,\n  Routes,\n  Route,\n  Navigate\n} from \"react-router-dom\";\n\n\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n\n    this.state = {\n      ready: false\n    }\n  }\n\n  handleEvent(event, error) {\n    console.log('on key cloak event', event, error);\n    if (event && event === \"onReady\" && keycloak.hasRealmRole(\"administratorLora\")) {\n      this.setState({ ready: true });\n    }\n  }\n\n  render() {\n    return (\n      <ReactKeycloakProvider\n        authClient={keycloak}\n        onEvent={this.handleEvent.bind(this)}\n        onTokens={({ token }) => {\n          // dispatch(setToken(token));\n          console.log(\"yeah token\");\n          console.log(token);\n        }}\n        initOptions={{ onLoad: 'login-required' }}>\n        {this.state.ready ?\n          <BrowserRouter>\n            <Routes>\n              <Route path=\"/\" element={<Dashboard  />} />\n            </Routes>\n          </BrowserRouter>\n          :\n          <div>\n            <div>Access denied</div>\n            <button\n              type=\"button\"\n              className=\"text-blue-800\"\n              onClick={() => keycloak.logout()}\n            >\n              Logout\n            </button></div>\n        }\n\n      </ReactKeycloakProvider>\n\n    )\n  };\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport sc from './socket';\n\nsc.init();\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render( <App /> \n \n   \n\n\n\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}